{"version":3,"sources":["styles/MovieDetailsPage.module.css","views/MovieDetailsPage.js"],"names":["module","exports","Cast","lazy","Reviews","MovieDetailsPage","state","posterPath","title","releaseDate","votes","overview","genres","handleGoBack","props","location","history","push","from","routes","home","a","movieId","this","match","params","Axios","get","response","setState","data","poster_path","original_title","release_date","vote_average","type","onClick","role","aria-label","className","styles","Container","src","alt","width","Descr","map","genre","name","id","to","pathname","url","fallback","path","component","Component","withRouter"],"mappings":"4HACAA,EAAOC,QAAU,CAAC,UAAY,oCAAoC,MAAQ,kC,yKCKpEC,EAAOC,gBAAK,kBAChB,gCAGIC,EAAUD,gBAAK,kBACnB,gCAGIE,E,4MACJC,MAAQ,CACNC,WAAY,GACZC,MAAO,GACPC,YAAa,GACbC,MAAO,KACPC,SAAU,KACVC,OAAQ,I,EAmBVC,aAAe,WAAO,IAAD,IACW,EAAKC,MAA3BC,EADW,EACXA,SADW,EACDC,QACVC,MAAa,OAARF,QAAQ,IAARA,GAAA,UAAAA,EAAUT,aAAV,eAAiBY,OAAQC,IAAOC,O,8FAlB/C,8BAAAC,EAAA,6DACUC,EAAYC,KAAKT,MAAMU,MAAMC,OAA7BH,QADV,SAGyBI,IAAMC,IAAN,6CACiBL,EADjB,6DAHzB,OAGQM,EAHR,OAMEL,KAAKM,SAAS,CACZtB,WAAYqB,EAASE,KAAKC,YAC1BvB,MAAOoB,EAASE,KAAKE,eACrBvB,YAAamB,EAASE,KAAKG,aAC3BvB,MAAOkB,EAASE,KAAKI,aACrBvB,SAAUiB,EAASE,KAAKnB,SACxBC,OAAQgB,EAASE,KAAKlB,SAZ1B,gD,0EAqBA,WAAU,IAAD,EAQHW,KAAKjB,MANPM,EAFK,EAELA,OACAL,EAHK,EAGLA,WACAC,EAJK,EAILA,MACAC,EALK,EAKLA,YACAC,EANK,EAMLA,MACAC,EAPK,EAOLA,SAGMa,EAAUD,KAAKT,MAAfU,MAER,OACE,qCACE,yBAAQW,KAAK,SAASC,QAASb,KAAKV,aAApC,UACE,sBAAMwB,KAAK,MAAMC,aAAW,eAA5B,oBADF,aAMA,sBAAKC,UAAWC,IAAOC,UAAvB,UACE,qBACEC,IAAG,yCAAoCnC,GACvCoC,IAAKnC,EACLoC,MAAM,QAER,sBAAKL,UAAWC,IAAOK,MAAvB,UACE,+BACGrC,EADH,KACYC,EADZ,OAGA,6CAAwB,GAARC,EAAhB,OACA,0CACA,4BAAIC,IACJ,wCAEA,6BACGC,EAAOkC,KAAI,SAAAC,GAAK,OACf,6BAAoBA,EAAMC,MAAjBD,EAAME,eAKvB,yDACA,+BACE,6BACE,cAAC,IAAD,CACEC,GAAI,CACFC,SAAS,GAAD,OAAK3B,EAAM4B,IAAX,SACR9C,MAAOiB,KAAKT,MAAMC,SAAST,OAH/B,oBASF,6BACE,cAAC,IAAD,CACE4C,GAAI,CACFC,SAAS,GAAD,OAAK3B,EAAM4B,IAAX,YACR9C,MAAOiB,KAAKT,MAAMC,SAAST,OAH/B,0BAWJ,cAAC,WAAD,CAAU+C,SAAU,gDAApB,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CACEC,KAAK,wBACLC,UAAWrD,EACXkC,QAASb,KAAKV,eAEhB,cAAC,IAAD,CACEyC,KAAI,UAAK9B,EAAM8B,KAAX,YACJC,UAAWnD,EACXgC,QAASb,KAAKV,2B,GA3GG2C,aAoHhBC,sBAAWpD","file":"static/js/movieDetails-page.cfd00f41.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"MovieDetailsPage_Container__22uPl\",\"Descr\":\"MovieDetailsPage_Descr__3mReF\"};","import React, { Component, Suspense, lazy } from 'react';\r\nimport { Link, Route, Switch, withRouter } from 'react-router-dom';\r\nimport Axios from 'axios';\r\nimport styles from '../styles/MovieDetailsPage.module.css';\r\nimport routes from '../routes';\r\n\r\nconst Cast = lazy(() =>\r\n  import('../components/Cast' /* webpackChunkName: \"cast-page\" */),\r\n);\r\n\r\nconst Reviews = lazy(() =>\r\n  import('../components/Reviews' /* webpackChunkName: \"reviews-page\" */),\r\n);\r\n\r\nclass MovieDetailsPage extends Component {\r\n  state = {\r\n    posterPath: '',\r\n    title: '',\r\n    releaseDate: '',\r\n    votes: null,\r\n    overview: null,\r\n    genres: [],\r\n  };\r\n\r\n  async componentDidMount() {\r\n    const { movieId } = this.props.match.params;\r\n\r\n    const response = await Axios.get(\r\n      `https://api.themoviedb.org/3/movie/${movieId}?api_key=38ffd95028f6c80ed5a5389eea0285a5&language=en-US`,\r\n    );\r\n    this.setState({\r\n      posterPath: response.data.poster_path,\r\n      title: response.data.original_title,\r\n      releaseDate: response.data.release_date,\r\n      votes: response.data.vote_average,\r\n      overview: response.data.overview,\r\n      genres: response.data.genres,\r\n    });\r\n  }\r\n\r\n  handleGoBack = () => {\r\n    const { location, history } = this.props;\r\n    history.push(location?.state?.from || routes.home);\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      genres,\r\n      posterPath,\r\n      title,\r\n      releaseDate,\r\n      votes,\r\n      overview,\r\n    } = this.state;\r\n\r\n    const { match } = this.props;\r\n\r\n    return (\r\n      <>\r\n        <button type=\"button\" onClick={this.handleGoBack}>\r\n          <span role=\"img\" aria-label=\"U+2B05 emoji\">\r\n            â¬…\r\n          </span>\r\n          Go Back\r\n        </button>\r\n        <div className={styles.Container}>\r\n          <img\r\n            src={`https://image.tmdb.org/t/p/w780${posterPath}`}\r\n            alt={title}\r\n            width=\"280\"\r\n          ></img>\r\n          <div className={styles.Descr}>\r\n            <h1>\r\n              {title} ({releaseDate})\r\n            </h1>\r\n            <p>User Score: {votes * 10}%</p>\r\n            <h2>Overview</h2>\r\n            <p>{overview}</p>\r\n            <h2>Genres</h2>\r\n\r\n            <ul>\r\n              {genres.map(genre => (\r\n                <li key={genre.id}>{genre.name}</li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n        </div>\r\n        <h2>Additional information:</h2>\r\n        <ul>\r\n          <li>\r\n            <Link\r\n              to={{\r\n                pathname: `${match.url}/cast`,\r\n                state: this.props.location.state,\r\n              }}\r\n            >\r\n              Cast\r\n            </Link>\r\n          </li>\r\n          <li>\r\n            <Link\r\n              to={{\r\n                pathname: `${match.url}/reviews`,\r\n                state: this.props.location.state,\r\n              }}\r\n            >\r\n              Reviews\r\n            </Link>\r\n          </li>\r\n        </ul>\r\n\r\n        <Suspense fallback={<h1>Downloading...</h1>}>\r\n          <Switch>\r\n            <Route\r\n              path=\"/movies/:movieId/cast\"\r\n              component={Cast}\r\n              onClick={this.handleGoBack}\r\n            />\r\n            <Route\r\n              path={`${match.path}/reviews`}\r\n              component={Reviews}\r\n              onClick={this.handleGoBack}\r\n            />\r\n          </Switch>\r\n        </Suspense>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(MovieDetailsPage);\r\n"],"sourceRoot":""}